-- phpMyAdmin SQL Dump
-- version 4.2.10
-- http://www.phpmyadmin.net
--
-- Host: localhost:3306
-- Generation Time: Mar 03, 2015 at 01:27 AM
-- Server version: 5.5.38
-- PHP Version: 5.6.2

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `emptysql`
--

-- --------------------------------------------------------

--
-- Table structure for table `DT_ADMIN`
--

CREATE TABLE `DT_ADMIN` (
`ADM_ID` int(11) NOT NULL,
  `ADM_NAME` varchar(45) NOT NULL,
  `ADM_PASSWORD` varchar(45) NOT NULL,
  `ADM_LVL` tinyint(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_ANNOUNCEMENT`
--

CREATE TABLE `DT_ANNOUNCEMENT` (
`ANN_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `ANN_TYPE_ID` int(11) NOT NULL,
  `ANN_NAME` varchar(45) DEFAULT NULL,
  `ANN_DESCR` varchar(45) DEFAULT NULL,
  `ANN_ADRESS` varchar(45) DEFAULT NULL,
  `ANN_ZIPCODE` varchar(45) DEFAULT NULL,
  `ANN_COUNTRY` varchar(45) DEFAULT NULL,
  `ANN_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `ANN_DATE_START` date DEFAULT NULL,
  `ANN_DATE_END` date DEFAULT NULL,
  `DT_LOCALIZATIONS_LOC_ID` int(11) NOT NULL,
  `DT_LOCALIZATIONS_LOC_TYPE_ID` int(11) NOT NULL,
  `DT_LOCALIZATIONS_DT_CITY_CITY_ID` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_ANNOUNCEMENT_TYPE`
--

CREATE TABLE `DT_ANNOUNCEMENT_TYPE` (
`ANN_TYPE_ID` int(11) NOT NULL,
  `ANN_TYPE_NAME` varchar(45) DEFAULT NULL,
  `ANN_TYPE_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_BOOKS`
--

CREATE TABLE `DT_BOOKS` (
`BOOKS_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `BOOKS_TITLE` varchar(45) DEFAULT NULL,
  `BOOKS_DESCR` text,
  `BOOKS_COVER` varchar(255) DEFAULT NULL,
  `BOOKS_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_BOOKS_STEPS`
--

CREATE TABLE `DT_BOOKS_STEPS` (
`BOOKS_STEPS_ID` int(11) NOT NULL,
  `BOOKS_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `LOC_ID` int(11) DEFAULT NULL,
  `BOOKS_STEPS_CONTENT` text,
  `BOOKS_STEPS_START_DATE` date DEFAULT NULL,
  `BOOKS_STEPS_END_DATE` date DEFAULT NULL,
  `BOOKS_STEPS_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_BOOKS_STEPS_PICTURE`
--

CREATE TABLE `DT_BOOKS_STEPS_PICTURE` (
`PIC_ID` int(11) NOT NULL,
  `BOOKS_STEPS` int(11) NOT NULL,
  `BOOKS_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `STEPS_DATE_CREAT` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `STEPS_IMG` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_CITY`
--

CREATE TABLE `DT_CITY` (
`CITY_ID` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_LOCALIZATIONS`
--

CREATE TABLE `DT_LOCALIZATIONS` (
`LOC_ID` int(11) NOT NULL,
  `LOC_TYPE_ID` int(11) NOT NULL,
  `DT_CITY_CITY_ID` int(11) NOT NULL,
  `LOC_NAME` varchar(45) DEFAULT NULL,
  `LOC_DATE_CREA` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_LOCALIZATIONS_TYPE`
--

CREATE TABLE `DT_LOCALIZATIONS_TYPE` (
`LOC_TYPE_ID` int(11) NOT NULL,
  `LOC_TYPE_NAME` varchar(45) DEFAULT NULL,
  `LOC_TYPE_DATE_CREA` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_ROUTE`
--

CREATE TABLE `DT_ROUTE` (
`ROUTE_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `ROUTE_TITLE` varchar(45) DEFAULT NULL,
  `ROUTE_DESCR` text,
  `ROUTE_COVER` varchar(45) DEFAULT NULL,
  `ROUTE_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_ROUTE_STEPS`
--

CREATE TABLE `DT_ROUTE_STEPS` (
`ROU_STEPS_ID` int(11) NOT NULL,
  `ROU_ID` int(11) NOT NULL,
  `USE_ID` int(11) NOT NULL,
  `LOC_ID` int(11) DEFAULT NULL,
  `ROUTE_STEPS_TITLE` varchar(45) DEFAULT NULL,
  `ROUTE_STEPS_CONTENT` text,
  `ROUTE_STEPS_DATE` datetime DEFAULT NULL,
  `ROUTE-STEPS_DATE_CREA` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_USERS`
--

CREATE TABLE `DT_USERS` (
`USE_ID` int(11) NOT NULL,
  `USE_TYPE` tinyint(1) DEFAULT NULL,
  `USE_MAIL` varchar(45) DEFAULT NULL,
  `USE_PASSWORD` varchar(32) DEFAULT NULL,
  `USE_LASTNAME` varchar(45) DEFAULT NULL,
  `USE_FIRSTNAME` varchar(45) DEFAULT NULL,
  `USE_BIRTHDAY` date DEFAULT NULL,
  `USE_DESCR` text,
  `USE_PIC` varchar(255) DEFAULT NULL,
  `USE_CLE` varchar(255) DEFAULT NULL,
  `USE_VERIF` tinyint(1) DEFAULT NULL,
  `USE_COUNTRY` varchar(45) DEFAULT NULL,
  `USE_LVL` varchar(45) DEFAULT NULL,
  `USE_DATE_CREA` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `USE_FACEBOOK_ID` bigint(20) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `DT_USERS_TYPE`
--

CREATE TABLE `DT_USERS_TYPE` (
`USE_TYPE_ID` int(11) NOT NULL,
  `USE_TYPE_NAME` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `DT_ADMIN`
--
ALTER TABLE `DT_ADMIN`
 ADD PRIMARY KEY (`ADM_ID`);

--
-- Indexes for table `DT_ANNOUNCEMENT`
--
ALTER TABLE `DT_ANNOUNCEMENT`
 ADD PRIMARY KEY (`ANN_ID`,`USE_ID`,`ANN_TYPE_ID`,`DT_LOCALIZATIONS_LOC_ID`,`DT_LOCALIZATIONS_LOC_TYPE_ID`,`DT_LOCALIZATIONS_DT_CITY_CITY_ID`), ADD KEY `fk_DT_ANNOUNCEMENT_DT_USERS1_idx` (`USE_ID`), ADD KEY `fk_DT_ANNOUNCEMENT_DT_ANNOUNCEMENT_TYPE1_idx` (`ANN_TYPE_ID`), ADD KEY `fk_DT_ANNOUNCEMENT_DT_LOCALIZATIONS1_idx` (`DT_LOCALIZATIONS_LOC_ID`,`DT_LOCALIZATIONS_LOC_TYPE_ID`,`DT_LOCALIZATIONS_DT_CITY_CITY_ID`);

--
-- Indexes for table `DT_ANNOUNCEMENT_TYPE`
--
ALTER TABLE `DT_ANNOUNCEMENT_TYPE`
 ADD PRIMARY KEY (`ANN_TYPE_ID`);

--
-- Indexes for table `DT_BOOKS`
--
ALTER TABLE `DT_BOOKS`
 ADD PRIMARY KEY (`BOOKS_ID`,`USE_ID`), ADD KEY `fk_DT_JOURNEY_DT_USERS1_idx` (`USE_ID`);

--
-- Indexes for table `DT_BOOKS_STEPS`
--
ALTER TABLE `DT_BOOKS_STEPS`
 ADD PRIMARY KEY (`BOOKS_STEPS_ID`,`BOOKS_ID`,`USE_ID`), ADD KEY `fk_DT_JOURNEY_has_DT_LOCALIZATIONS_DT_LOCALIZATIONS1_idx` (`LOC_ID`), ADD KEY `fk_DT_JOURNEY_has_DT_LOCALIZATIONS_DT_JOURNEY1_idx` (`BOOKS_ID`,`USE_ID`);

--
-- Indexes for table `DT_BOOKS_STEPS_PICTURE`
--
ALTER TABLE `DT_BOOKS_STEPS_PICTURE`
 ADD PRIMARY KEY (`PIC_ID`,`BOOKS_STEPS`,`BOOKS_ID`,`USE_ID`), ADD KEY `fk_DT_BOOKS_STEPS_PICTURE_DT_BOOKS_STEPS1_idx` (`BOOKS_STEPS`,`BOOKS_ID`,`USE_ID`);

--
-- Indexes for table `DT_CITY`
--
ALTER TABLE `DT_CITY`
 ADD PRIMARY KEY (`CITY_ID`);

--
-- Indexes for table `DT_LOCALIZATIONS`
--
ALTER TABLE `DT_LOCALIZATIONS`
 ADD PRIMARY KEY (`LOC_ID`,`LOC_TYPE_ID`,`DT_CITY_CITY_ID`), ADD KEY `fk_DT_LOCALIZATIONS_DT_LOCALIZATIONS_TYPE1_idx` (`LOC_TYPE_ID`), ADD KEY `fk_DT_LOCALIZATIONS_DT_CITY1_idx` (`DT_CITY_CITY_ID`);

--
-- Indexes for table `DT_LOCALIZATIONS_TYPE`
--
ALTER TABLE `DT_LOCALIZATIONS_TYPE`
 ADD PRIMARY KEY (`LOC_TYPE_ID`);

--
-- Indexes for table `DT_ROUTE`
--
ALTER TABLE `DT_ROUTE`
 ADD PRIMARY KEY (`ROUTE_ID`,`USE_ID`), ADD KEY `fk_DT_ROUTE_DT_USERS_idx` (`USE_ID`);

--
-- Indexes for table `DT_ROUTE_STEPS`
--
ALTER TABLE `DT_ROUTE_STEPS`
 ADD PRIMARY KEY (`ROU_STEPS_ID`,`ROU_ID`,`USE_ID`), ADD KEY `fk_DT_ROUTE_has_DT_LOCALIZATIONS_DT_LOCALIZATIONS1_idx` (`LOC_ID`), ADD KEY `fk_DT_ROUTE_has_DT_LOCALIZATIONS_DT_ROUTE1_idx` (`ROU_ID`,`USE_ID`);

--
-- Indexes for table `DT_USERS`
--
ALTER TABLE `DT_USERS`
 ADD PRIMARY KEY (`USE_ID`);

--
-- Indexes for table `DT_USERS_TYPE`
--
ALTER TABLE `DT_USERS_TYPE`
 ADD PRIMARY KEY (`USE_TYPE_ID`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `DT_ADMIN`
--
ALTER TABLE `DT_ADMIN`
MODIFY `ADM_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_ANNOUNCEMENT`
--
ALTER TABLE `DT_ANNOUNCEMENT`
MODIFY `ANN_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_ANNOUNCEMENT_TYPE`
--
ALTER TABLE `DT_ANNOUNCEMENT_TYPE`
MODIFY `ANN_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_BOOKS`
--
ALTER TABLE `DT_BOOKS`
MODIFY `BOOKS_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_BOOKS_STEPS`
--
ALTER TABLE `DT_BOOKS_STEPS`
MODIFY `BOOKS_STEPS_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_BOOKS_STEPS_PICTURE`
--
ALTER TABLE `DT_BOOKS_STEPS_PICTURE`
MODIFY `PIC_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_CITY`
--
ALTER TABLE `DT_CITY`
MODIFY `CITY_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_LOCALIZATIONS`
--
ALTER TABLE `DT_LOCALIZATIONS`
MODIFY `LOC_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_LOCALIZATIONS_TYPE`
--
ALTER TABLE `DT_LOCALIZATIONS_TYPE`
MODIFY `LOC_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_ROUTE`
--
ALTER TABLE `DT_ROUTE`
MODIFY `ROUTE_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_ROUTE_STEPS`
--
ALTER TABLE `DT_ROUTE_STEPS`
MODIFY `ROU_STEPS_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_USERS`
--
ALTER TABLE `DT_USERS`
MODIFY `USE_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `DT_USERS_TYPE`
--
ALTER TABLE `DT_USERS_TYPE`
MODIFY `USE_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `DT_ANNOUNCEMENT`
--
ALTER TABLE `DT_ANNOUNCEMENT`
ADD CONSTRAINT `fk_DT_ANNOUNCEMENT_DT_USERS1` FOREIGN KEY (`USE_ID`) REFERENCES `DT_USERS` (`USE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
ADD CONSTRAINT `fk_DT_ANNOUNCEMENT_DT_ANNOUNCEMENT_TYPE1` FOREIGN KEY (`ANN_TYPE_ID`) REFERENCES `DT_ANNOUNCEMENT_TYPE` (`ANN_TYPE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
ADD CONSTRAINT `fk_DT_ANNOUNCEMENT_DT_LOCALIZATIONS1` FOREIGN KEY (`DT_LOCALIZATIONS_LOC_ID`, `DT_LOCALIZATIONS_LOC_TYPE_ID`, `DT_LOCALIZATIONS_DT_CITY_CITY_ID`) REFERENCES `DT_LOCALIZATIONS` (`LOC_ID`, `LOC_TYPE_ID`, `DT_CITY_CITY_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Constraints for table `DT_BOOKS`
--
ALTER TABLE `DT_BOOKS`
ADD CONSTRAINT `fk_DT_JOURNEY_DT_USERS1` FOREIGN KEY (`USE_ID`) REFERENCES `DT_USERS` (`USE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Constraints for table `DT_BOOKS_STEPS`
--
ALTER TABLE `DT_BOOKS_STEPS`
ADD CONSTRAINT `fk_DT_JOURNEY_has_DT_LOCALIZATIONS_DT_JOURNEY1` FOREIGN KEY (`BOOKS_ID`, `USE_ID`) REFERENCES `DT_BOOKS` (`BOOKS_ID`, `USE_ID`) ON DELETE CASCADE ON UPDATE NO ACTION,
ADD CONSTRAINT `fk_DT_JOURNEY_has_DT_LOCALIZATIONS_DT_LOCALIZATIONS1` FOREIGN KEY (`LOC_ID`) REFERENCES `DT_LOCALIZATIONS` (`LOC_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Constraints for table `DT_BOOKS_STEPS_PICTURE`
--
ALTER TABLE `DT_BOOKS_STEPS_PICTURE`
ADD CONSTRAINT `fk_DT_BOOKS_STEPS_PICTURE_DT_BOOKS_STEPS1` FOREIGN KEY (`BOOKS_STEPS`, `BOOKS_ID`, `USE_ID`) REFERENCES `DT_BOOKS_STEPS` (`BOOKS_STEPS_ID`, `BOOKS_ID`, `USE_ID`) ON DELETE CASCADE ON UPDATE NO ACTION;

--
-- Constraints for table `DT_LOCALIZATIONS`
--
ALTER TABLE `DT_LOCALIZATIONS`
ADD CONSTRAINT `fk_DT_LOCALIZATIONS_DT_LOCALIZATIONS_TYPE1` FOREIGN KEY (`LOC_TYPE_ID`) REFERENCES `DT_LOCALIZATIONS_TYPE` (`LOC_TYPE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
ADD CONSTRAINT `fk_DT_LOCALIZATIONS_DT_CITY1` FOREIGN KEY (`DT_CITY_CITY_ID`) REFERENCES `DT_CITY` (`CITY_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Constraints for table `DT_ROUTE`
--
ALTER TABLE `DT_ROUTE`
ADD CONSTRAINT `fk_DT_ROUTE_DT_USERS` FOREIGN KEY (`USE_ID`) REFERENCES `DT_USERS` (`USE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Constraints for table `DT_ROUTE_STEPS`
--
ALTER TABLE `DT_ROUTE_STEPS`
ADD CONSTRAINT `fk_DT_ROUTE_has_DT_LOCALIZATIONS_DT_ROUTE1` FOREIGN KEY (`ROU_ID`, `USE_ID`) REFERENCES `DT_ROUTE` (`ROUTE_ID`, `USE_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
ADD CONSTRAINT `fk_DT_ROUTE_has_DT_LOCALIZATIONS_DT_LOCALIZATIONS1` FOREIGN KEY (`LOC_ID`) REFERENCES `DT_LOCALIZATIONS` (`LOC_ID`) ON DELETE NO ACTION ON UPDATE NO ACTION;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
